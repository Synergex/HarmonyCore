import System.Collections.Generic
import SampleServices.Models

namespace SampleServices.Test.DataGenerators

	public static partial class ItemLoader
	
		public static method LoadFromFile, @List<Item>
		proc
			data dataFile = "ICSTUT:ITEMS.ism"
			data textFile = dataFile.ToLower().Replace(".ism",".txt")
			data itemCh, int, 0
			data itemRec, strItem
			data items = new List<Item>()
			open(itemCh,i:s,textFile)
			repeat
			begin
				reads(itemCh,itemRec,eof)
				items.Add(new Item(itemRec))
			end
		eof,
			close itemCh
			mreturn items
		endmethod

	endclass

endnamespace
